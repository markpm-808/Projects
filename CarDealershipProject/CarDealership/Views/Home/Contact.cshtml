@model CarDealership.Models.Tables.Contact
@{
    ViewBag.Title = "Contact";
}

<h2>Contact Us</h2>
<div class="row">
    <div class="col-md-6">
        @using (Html.BeginForm("Contact", "Home", FormMethod.Post, new { enctype = "multipart/form-data", id = "frmHomecontact" }))
        {
            <div class="form-group">
                <label>Name</label>
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
                <span class="text-danger">@Html.ValidationMessageFor(m => m.Name)</span>
            </div>
            <div class="form-group">
                <label>Email</label>
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @id = "emailInput" })
                <span class="text-danger">@Html.ValidationMessageFor(m => m.Email)</span>
            </div>
            <div class="form-group">
                <label>Phone</label>
                @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form-control", @id = "phoneInput" })
                <span class="text-danger">@Html.ValidationMessageFor(m => m.PhoneNumber)</span>
            </div>
            <div class="form-group">
                <label>Message</label>
                @Html.TextAreaFor(m => m.Message, new { @class = "form-control", @id = "messageInput" })
                <span class="text-danger">@Html.ValidationMessageFor(m => m.Message)</span>
            </div>
            <button class="btn-primary" id="submitButton">Submit</button>
        }
    </div>
    <div class="col-md-6">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3714.654057322616!2d-157.7986256702388!3d21.403521952305002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7c006b04c2275dd7%3A0xdc74cdeb45210199!2sServco%20Toyota%20Windward!5e0!3m2!1sen!2sus!4v1623643008284!5m2!1sen!2sus" width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        <p>
            <br />
            45-655 Kamehameha Hwy
            <br />
            Kaneohe, HI 96734
        </p>

        <p>
            <b>Sales:</b>808-752-6565
            <br />
            <b>Service: </b>808-752-6221
        </p>
    </div>
</div>

@section scripts
{
<script>
    $(document).ready(function () {
        addVin();
            $('#frmHomecontact').validate({
                errorClass: 'errors',
                rules: {
                    'Name': {
                        required: true
                    },
                    'Message': {
                        required: true
                    },
                    'PhoneNumber': {
                        required: '#emailInput:blank',
                        number: true
                    },
                    'Email': {
                        required: '#phoneInput:blank',
                        email: true
                    }
                },
                messages: {
                    'Name': {
                        required: "Please enter a name"
                    },
                    'Message': {
                        required: "Please enter a message"
                    },
                    'PhoneNumber': {
                        required: "Please enter a phone number"
                    },
                    'Email': {
                        required: "Please enter an email address"
                    }
                }
            });
        });

        function addVin() {
            @{
                if (ViewBag.VinNumber != null)
                {
                    @:$("#messageInput").val($("#messageInput").val() + "Vin #: " + "@ViewBag.VinNumber")
                }
            }
        }

   



</script>
    
}



